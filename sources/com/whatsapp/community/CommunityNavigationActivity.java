package com.whatsapp.community;

import X.AnonymousClass001;
import X.AnonymousClass002;
import X.AnonymousClass0AQ;
import X.AnonymousClass0R8;
import X.AnonymousClass0UY;
import X.AnonymousClass0x2;
import X.AnonymousClass11H;
import X.AnonymousClass1R1;
import X.AnonymousClass30V;
import X.AnonymousClass314;
import X.AnonymousClass3ZH;
import X.AnonymousClass4AQ;
import X.AnonymousClass4FI;
import X.AnonymousClass4FS;
import X.AnonymousClass4SG;
import X.AnonymousClass4XG;
import X.AnonymousClass5XH;
import X.AnonymousClass5ZU;
import X.AnonymousClass688;
import X.AnonymousClass68W;
import X.AnonymousClass697;
import X.AnonymousClass6C6;
import X.AnonymousClass7XG;
import X.C005205m;
import X.C103145Ls;
import X.C104275Qi;
import X.C104355Qq;
import X.C105365Uq;
import X.C105965Xc;
import X.C106905aM;
import X.C107335b8;
import X.C107695bk;
import X.C114015mM;
import X.C116985rC;
import X.C1233868f;
import X.C1237669r;
import X.C133306h7;
import X.C162457s7;
import X.C18320x8;
import X.C27991fJ;
import X.C28891hw;
import X.C29241iV;
import X.C29291ia;
import X.C29301ib;
import X.C29331ie;
import X.C29421in;
import X.C39542Cj;
import X.C44092Uq;
import X.C50452iC;
import X.C50932j0;
import X.C54122oD;
import X.C55562qY;
import X.C56252rg;
import X.C56542sA;
import X.C56612sH;
import X.C56892sj;
import X.C56942so;
import X.C56982ss;
import X.C59862xc;
import X.C619933b;
import X.C620733j;
import X.C621033m;
import X.C626936e;
import X.C627136h;
import X.C627736r;
import X.C64333Db;
import X.C64653Ej;
import X.C64773Ex;
import X.C65203Gp;
import X.C66493Lq;
import X.C69263Wi;
import X.C86604Kt;
import X.C86614Ku;
import X.C86624Kv;
import X.C86634Kw;
import X.C86654Ky;
import X.C86664Kz;
import X.C88744aj;
import X.C88834as;
import X.C89644eZ;
import X.C91694kj;
import X.C95814uZ;
import android.content.Intent;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.TextView;
import androidx.appcompat.widget.Toolbar;
import androidx.recyclerview.widget.RecyclerView;
import com.google.android.material.appbar.AppBarLayout;
import com.whatsapp.R;
import com.whatsapp.TextEmojiLabel;
import com.whatsapp.WaImageView;
import com.whatsapp.util.Log;
import com.whatsapp.wds.components.button.WDSButton;

public class CommunityNavigationActivity extends C89644eZ {
    public TextView A00;
    public C116985rC A01;
    public C44092Uq A02;
    public C103145Ls A03;
    public C39542Cj A04;
    public TextEmojiLabel A05;
    public C621033m A06;
    public WaImageView A07;
    public C29291ia A08;
    public C29301ib A09;
    public C56942so A0A;
    public C64653Ej A0B;
    public AnonymousClass11H A0C;
    public AnonymousClass4XG A0D;
    public C65203Gp A0E;
    public C64773Ex A0F;
    public C29421in A0G;
    public AnonymousClass5ZU A0H;
    public C105365Uq A0I;
    public C114015mM A0J;
    public C54122oD A0K;
    public AnonymousClass314 A0L;
    public AnonymousClass7XG A0M;
    public C104275Qi A0N;
    public AnonymousClass5XH A0O;
    public C56542sA A0P;
    public C56982ss A0Q;
    public C28891hw A0R;
    public C56892sj A0S;
    public C55562qY A0T;
    public AnonymousClass3ZH A0U;
    public C59862xc A0V;
    public C66493Lq A0W;
    public C50932j0 A0X;
    public C29241iV A0Y;
    public C29331ie A0Z;
    public C95814uZ A0a;
    public C27991fJ A0b;
    public C50452iC A0c;
    public C619933b A0d;
    public AnonymousClass1R1 A0e;
    public AnonymousClass30V A0f;
    public C104355Qq A0g;
    public boolean A0h;
    public boolean A0i;
    public final AnonymousClass4FI A0j;
    public final AnonymousClass4AQ A0k;
    public final C56252rg A0l;

    public void A5r() {
        if (!this.A0h) {
            this.A0h = true;
            C88834as A2X = AnonymousClass4SG.A2X(this);
            C64333Db r2 = A2X.A4Z;
            AnonymousClass4SG.A3W(r2, this);
            C107695bk r3 = r2.A00;
            AnonymousClass4SG.A3Q(r2, r3, this, AnonymousClass4SG.A2t(r2, r3, this));
            this.A0Q = C64333Db.A39(r2);
            this.A0P = C86634Kw.A0e(r2);
            this.A0E = (C65203Gp) r2.AXm.get();
            this.A06 = C64333Db.A08(r2);
            this.A0J = C64333Db.A29(r2);
            this.A0F = C64333Db.A26(r2);
            this.A0L = (AnonymousClass314) r2.A6v.get();
            this.A0H = C64333Db.A28(r2);
            this.A0c = (C50452iC) r3.ABs.get();
            this.A0G = C86614Ku.A0S(r2);
            this.A0W = C64333Db.A5A(r2);
            this.A01 = C88744aj.A00;
            this.A0e = C86634Kw.A0p(r2);
            this.A09 = C86624Kv.A0N(r2);
            this.A0B = C86654Ky.A0X(r2);
            this.A0T = (C55562qY) r2.AZC.get();
            this.A0V = (C59862xc) r2.APF.get();
            this.A0d = C86624Kv.A0V(r2);
            this.A0A = C64333Db.A1k(r2);
            this.A0Z = (C29331ie) r2.AP8.get();
            this.A0R = C86614Ku.A0Y(r2);
            this.A0K = (C54122oD) r2.A6t.get();
            this.A02 = (C44092Uq) A2X.A0Z.get();
            this.A08 = C86654Ky.A0S(r2);
            this.A0g = (C104355Qq) r3.A3P.get();
            this.A0S = C64333Db.A3G(r2);
            this.A0X = C86664Kz.A1A(r2);
            this.A0Y = C86624Kv.A0T(r2);
            this.A0f = C86604Kt.A0f(r2);
            this.A04 = (C39542Cj) A2X.A3V.get();
            this.A03 = (C103145Ls) A2X.A0a.get();
        }
    }

    public void A66() {
        this.A0f.A03((C95814uZ) null, 7);
        super.A66();
    }

    public final void A75(String str) {
        if (!(!this.A0E) && !this.A0i) {
            Intent A022 = C627736r.A02(this);
            A022.putExtra("snackbar_message", str);
            A022.setFlags(67108864);
            startActivity(A022);
            this.A0i = true;
        }
    }

    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        this.A0I = this.A0J.A06(this, "community-navigation");
        setContentView((int) R.layout.f8nameremoved);
        C27991fJ A0k2 = C86634Kw.A0k(getIntent(), "parent_group_jid");
        C626936e.A06(A0k2);
        this.A0b = A0k2;
        AnonymousClass3ZH A072 = this.A0F.A07(A0k2);
        this.A0U = A072;
        if (A072 == null || this.A0Q.A0Q(this.A0b)) {
            A75(getString(R.string.f11nameremoved));
            return;
        }
        this.A0Z.A06(this.A0l);
        this.A07 = (WaImageView) C005205m.A00(this, R.id.community_navigation_communityPhoto);
        this.A00 = C005205m.A01(this, R.id.community_navigation_communityStatus);
        TextEmojiLabel textEmojiLabel = (TextEmojiLabel) C005205m.A00(this, R.id.community_navigation_communityName);
        this.A05 = textEmojiLabel;
        C106905aM.A04(textEmojiLabel);
        Toolbar toolbar = (Toolbar) C005205m.A00(this, R.id.community_navigation_toolbar);
        AnonymousClass0R8 A2S = AnonymousClass4SG.A2S(this, toolbar);
        A2S.A0N(true);
        A2S.A0Q(false);
        C107335b8.A0D(this, toolbar, this.A00, R.color.f5nameremoved);
        AppBarLayout appBarLayout = (AppBarLayout) C005205m.A00(this, R.id.community_navigation_app_bar);
        AnonymousClass0R8 supportActionBar = getSupportActionBar();
        C620733j r12 = this.A00;
        WaImageView waImageView = this.A07;
        TextEmojiLabel textEmojiLabel2 = this.A05;
        TextView textView = this.A00;
        C86634Kw.A15(this, supportActionBar);
        supportActionBar.A0O(true);
        View A032 = supportActionBar.A03();
        C626936e.A04(A032);
        C133306h7 r7 = new C133306h7(A032, waImageView, textView, textEmojiLabel2, r12);
        appBarLayout.setExpanded(true);
        appBarLayout.A02(r7);
        textView.setVisibility(0);
        RecyclerView recyclerView = (RecyclerView) C005205m.A00(this, R.id.community_navigation_subgroup_recycler_view);
        C18320x8.A19(recyclerView, 1);
        recyclerView.setItemAnimator((AnonymousClass0UY) null);
        AnonymousClass4XG A002 = this.A02.A00(this.A0I, new C91694kj(this, this.A01, this, this.A0B), this.A0P, 6);
        this.A0D = A002;
        recyclerView.setAdapter(A002);
        AnonymousClass4XG r10 = this.A0D;
        C29421in r11 = this.A0G;
        AnonymousClass7XG r72 = new AnonymousClass7XG(this.A08, this.A09, r10, r11, this.A0R, this.A0Y);
        this.A0M = r72;
        r72.A00();
        A74();
        C105965Xc r13 = new C105965Xc(true, true, false, true, true, true);
        r13.A05 = false;
        r13.A02 = false;
        r13.A0A = false;
        r13.A01 = true;
        r13.A0D = true;
        r13.A04 = false;
        r13.A03 = false;
        r13.A06 = false;
        r13.A0B = false;
        r13.A08 = true;
        r13.A07 = true;
        r13.A09 = false;
        AnonymousClass11H A003 = AnonymousClass11H.A00(this, this.A04, r13, this.A0b);
        this.A0C = A003;
        AnonymousClass6C6.A01(this, A003.A0F, 107);
        AnonymousClass6C6.A01(this, this.A0C.A0D, C627136h.A03);
        AnonymousClass6C6.A01(this, this.A0C.A0x, 109);
        AnonymousClass6C6.A01(this, this.A0C.A11, 110);
        this.A0R.A06(this.A0j);
        this.A0X.A00(this.A0k);
        AnonymousClass6C6.A01(this, this.A0C.A14, 111);
        AnonymousClass6C6.A01(this, this.A0C.A13, 112);
        if (this.A0D.A0X(5000) && getIntent().getBooleanExtra("post_creation_flow", false)) {
            C27991fJ r4 = this.A0b;
            C162457s7.A0J(r4, 0);
            Log.i("CommunityAddMembersBottomSheet/newInstance");
            CommunityAddMembersBottomSheet communityAddMembersBottomSheet = new CommunityAddMembersBottomSheet();
            C86604Kt.A18(AnonymousClass002.A08(), communityAddMembersBottomSheet, r4, "parent_jid");
            Bon(communityAddMembersBottomSheet, "CommunityAddMembersBottomSheet/");
        }
        C56612sH r112 = this.A06;
        C69263Wi r73 = this.A05;
        AnonymousClass4FS r2 = this.A04;
        C56542sA r122 = this.A0P;
        C65203Gp r8 = this.A0E;
        C64773Ex r9 = this.A0F;
        C66493Lq r14 = this.A0W;
        AnonymousClass1R1 r15 = this.A0e;
        AnonymousClass5XH r5 = new AnonymousClass5XH(this, r73, r8, r9, new C1233868f(this, 0), r112, r122, this.A0T, r14, r15, this.A0g, r2);
        this.A0O = r5;
        this.A0N = new C104275Qi(this, r73, this.A0L, r5, r112, r122, r15, r2);
    }

    public void onDestroy() {
        C105365Uq r0 = this.A0I;
        if (r0 != null) {
            r0.A00();
        }
        C29331ie r1 = this.A0Z;
        if (r1 != null) {
            r1.A07(this.A0l);
        }
        C28891hw r12 = this.A0R;
        if (r12 != null) {
            r12.A07(this.A0j);
        }
        AnonymousClass7XG r02 = this.A0M;
        if (r02 != null) {
            r02.A01();
        }
        C50932j0 r13 = this.A0X;
        if (r13 != null) {
            r13.A01(this.A0k);
        }
        super.onDestroy();
    }

    public void onStop() {
        AnonymousClass11H r0 = this.A0C;
        if (r0 != null) {
            r0.A0D();
        }
        super.onStop();
    }

    public CommunityNavigationActivity(int i) {
        this.A0h = false;
        AnonymousClass68W.A00(this, 28);
    }

    public final void A74() {
        WDSButton wDSButton = (WDSButton) C005205m.A00(this, R.id.community_navigation_add_group_button);
        wDSButton.setIcon((Drawable) AnonymousClass0AQ.A03(getTheme(), getResources(), R.drawable.vec_plus_group));
        wDSButton.setVisibility(AnonymousClass001.A08(this.A0A.A0F(this.A0b) ? 1 : 0));
        AnonymousClass0x2.A0z(wDSButton, this, 27);
    }

    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.f10nameremoved, menu);
        if (this.A0S.A0D(this.A0b)) {
            if (this.A0D.A0X(4979)) {
                menu.add(0, R.id.community_navigation_menu_invite_members, 0, getString(R.string.f11nameremoved));
            }
            if (this.A0D.A0X(3829)) {
                menu.add(0, R.id.community_navigation_menu_community_settings, 0, getString(R.string.f11nameremoved));
            }
        }
        if (!this.A0S.A0D(this.A0b)) {
            return true;
        }
        boolean A0X2 = this.A0D.A0X(4979);
        MenuItem findItem = menu.findItem(R.id.community_navigation_menu_view_members);
        if (A0X2) {
            findItem.setVisible(false);
            return true;
        }
        findItem.setTitle(R.string.f11nameremoved);
        return true;
    }

    public boolean onOptionsItemSelected(MenuItem menuItem) {
        if (menuItem.getItemId() == R.id.community_navigation_menu_view_members) {
            this.A00.A0C(this, C627736r.A0Y(this, this.A0b, false), "communityNavigation");
            return true;
        } else if (menuItem.getItemId() == R.id.community_navigation_menu_community_info) {
            this.A0B.Bg7(this, this.A00, this.A0b);
            return true;
        } else if (menuItem.getItemId() == R.id.community_navigation_menu_community_settings) {
            this.A00.A0A(this, C627736r.A0h(this, this.A0b));
            return true;
        } else if (menuItem.getItemId() != R.id.community_navigation_menu_invite_members) {
            return super.onOptionsItemSelected(menuItem);
        } else {
            C27991fJ r3 = this.A0b;
            C162457s7.A0J(r3, 0);
            Log.i("CommunityAddMembersBottomSheet/newInstance");
            CommunityAddMembersBottomSheet communityAddMembersBottomSheet = new CommunityAddMembersBottomSheet();
            C86604Kt.A18(AnonymousClass002.A08(), communityAddMembersBottomSheet, r3, "parent_jid");
            Bon(communityAddMembersBottomSheet, "CommunityAddMembersBottomSheet/");
            return true;
        }
    }

    public void onResume() {
        super.onResume();
        if (this.A0Q.A0Q(this.A0b)) {
            A75(getString(R.string.f11nameremoved));
        }
    }

    public CommunityNavigationActivity() {
        this(0);
        this.A0l = new AnonymousClass688(this, 1);
        this.A0j = new C1237669r(this, 2);
        this.A0k = new AnonymousClass697(this, 2);
    }
}
