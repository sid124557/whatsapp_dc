package X;

import android.database.Cursor;
import com.whatsapp.util.Log;
import java.util.Map;

/* renamed from: X.2qj  reason: invalid class name and case insensitive filesystem */
public class C55672qj {
    public final int A00;
    public final C55682qk A01;
    public final C69263Wi A02;
    public final C56972sr A03;
    public final C44382Vv A04;
    public final C56612sH A05;
    public final C52852m9 A06;
    public final C47952e6 A07;
    public final C28871hu A08;
    public final C56922sm A09;
    public final C56982ss A0A;
    public final C66543Lv A0B;
    public final AnonymousClass30G A0C;
    public final C60532yi A0D;
    public final C56562sC A0E;
    public final C613830m A0F;
    public final C53132mb A0G;
    public final C54762pF A0H;
    public final C66483Lp A0I;
    public final C51532jy A0J;
    public final C29431io A0K;
    public final AnonymousClass300 A0L;
    public final C72303dV A0M;
    public final C48992fo A0N;
    public final C54012o2 A0O;
    public final C48562f6 A0P;
    public final C55342qC A0Q;
    public final C612830a A0R;
    public final C56662sM A0S;
    public final AnonymousClass2ZZ A0T;
    public final AnonymousClass1VX A0U;
    public final C66383Le A0V;
    public final C53972ny A0W;
    public final AnonymousClass33Y A0X;
    public final C619933b A0Y;
    public final C55832qz A0Z;
    public final C33141sV A0a;
    public final AnonymousClass4FS A0b;
    public final C183538qC A0c;
    public final C183538qC A0d;
    public final C183538qC A0e;
    public final Map A0f;

    /* JADX DEBUG: Multi-variable search result rejected for TypeSearchVarInfo{r3v13, resolved type: X.1mV} */
    /* JADX DEBUG: Multi-variable search result rejected for TypeSearchVarInfo{r5v1, resolved type: X.1nF} */
    /* JADX DEBUG: Multi-variable search result rejected for TypeSearchVarInfo{r3v17, resolved type: X.1mJ} */
    /* JADX DEBUG: Multi-variable search result rejected for TypeSearchVarInfo{r3v22, resolved type: X.1mW} */
    /* JADX DEBUG: Multi-variable search result rejected for TypeSearchVarInfo{r3v43, resolved type: X.1mJ} */
    /* JADX DEBUG: Multi-variable search result rejected for TypeSearchVarInfo{r3v47, resolved type: X.1mJ} */
    /* JADX WARNING: Code restructure failed: missing block: B:51:0x011c, code lost:
        if (r30 == false) goto L_0x0302;
     */
    /* JADX WARNING: Multi-variable type inference failed */
    /* JADX WARNING: Removed duplicated region for block: B:100:0x024e  */
    /* JADX WARNING: Removed duplicated region for block: B:103:0x025d  */
    /* JADX WARNING: Removed duplicated region for block: B:105:0x0269  */
    /* JADX WARNING: Removed duplicated region for block: B:108:0x0272  */
    /* JADX WARNING: Removed duplicated region for block: B:109:0x0278  */
    /* JADX WARNING: Removed duplicated region for block: B:126:0x02e0 A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:200:0x0427 A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:205:0x043e A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:208:0x0449 A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:212:0x045c A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:218:0x046e A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:221:0x0481 A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:224:0x0490 A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:226:0x04b2 A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:228:0x04c2 A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:229:0x04c3 A[Catch:{ all -> 0x04f3, all -> 0x04f8, all -> 0x04fd }] */
    /* JADX WARNING: Removed duplicated region for block: B:82:0x0190  */
    /* JADX WARNING: Removed duplicated region for block: B:90:0x0212  */
    /* JADX WARNING: Removed duplicated region for block: B:93:0x0231  */
    /* JADX WARNING: Removed duplicated region for block: B:96:0x023e  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public X.C624134x A00(X.C624134x r28, boolean r29, boolean r30) {
        /*
            r27 = this;
            r2 = r28
            boolean r6 = r2 instanceof X.C30481mW
            if (r6 != 0) goto L_0x000e
            boolean r0 = r2 instanceof X.C30471mV
            if (r0 != 0) goto L_0x000e
            boolean r0 = r2 instanceof X.C30351mJ
            if (r0 == 0) goto L_0x0511
        L_0x000e:
            boolean r0 = X.C624134x.A0d(r2)
            if (r0 == 0) goto L_0x0511
            X.2Ou r0 = r2.A11()
            if (r0 == 0) goto L_0x0511
            X.2Ou r0 = r2.A11()
            X.2z0 r4 = r0.A02
            r1 = r27
            X.2qz r0 = r1.A0Z
            X.34x r0 = r0.A05(r4)
            if (r0 != 0) goto L_0x00e4
            X.34x r0 = r1.A01(r4)
            r14 = 0
            if (r0 != 0) goto L_0x00e5
            java.lang.String r0 = "EditMessageManager/orphan edit/"
            com.whatsapp.util.Log.d((java.lang.String) r0)
            X.8qC r0 = r1.A0c
            boolean r0 = X.C624134x.A0h(r2, r0)
            r9 = 0
            if (r0 == 0) goto L_0x0086
            if (r30 != 0) goto L_0x0080
            X.2pF r0 = r1.A0H
            java.util.concurrent.ConcurrentHashMap r8 = r0.A03
            boolean r0 = r8.contains(r4)
            if (r0 != 0) goto L_0x007a
            r0 = r2
            X.4B9 r0 = (X.AnonymousClass4B9) r0
            X.34x r7 = r0.Az3(r4)
            r7.A1V(r9)
            r7.A01 = r14
            r0 = 131072(0x20000, float:1.83671E-40)
            r7.A1C(r0)
            long r5 = r2.A0K
            r3 = 1
            long r5 = r5 - r3
            r7.A0K = r5
            java.lang.StringBuilder r4 = X.AnonymousClass001.A0o()
            java.lang.String r0 = "EditMessageManager/handleCurrentMessageNotFound/storing first msg: "
            X.2z0 r3 = X.C624134x.A08(r7, r0, r4)
            X.C18260x0.A0o(r3, r4)
            java.lang.Boolean r0 = java.lang.Boolean.TRUE
            r8.put(r3, r0)
            X.3Lv r0 = r1.A0B
            r0.A08(r7)
        L_0x007a:
            r0 = 1
            X.34x r9 = r1.A00(r2, r14, r0)
        L_0x007f:
            return r9
        L_0x0080:
            java.lang.String r0 = "EditMessageManager/handleEditedMessage/bot orphaned stored"
            com.whatsapp.util.Log.w((java.lang.String) r0)
            goto L_0x0088
        L_0x0086:
            if (r30 != 0) goto L_0x007f
        L_0x0088:
            X.30G r3 = r1.A0C
            X.3Le r5 = r1.A0V
            if (r6 != 0) goto L_0x0092
            boolean r0 = r2 instanceof X.C30471mV
            if (r0 == 0) goto L_0x00dd
        L_0x0092:
            boolean r0 = X.C624134x.A0d(r2)
            if (r0 == 0) goto L_0x00dd
            X.2z0 r10 = r2.A1J
            X.4uZ r8 = r2.A0n()
            long r15 = r2.A0K
            r13 = 2
            X.2Ou r0 = r2.A11()
            X.2z0 r0 = r0.A02
            java.lang.String r11 = r0.A01
            X.1A4 r4 = X.C18300x5.A0R()
            X.C162457s7.A0J(r4, r14)     // Catch:{ 24A -> 0x00cc }
            X.2cu r1 = new X.2cu     // Catch:{ 24A -> 0x00cc }
            r1.<init>(r4)     // Catch:{ 24A -> 0x00cc }
            r0 = 1
            r1.A02 = r0     // Catch:{ 24A -> 0x00cc }
            X.2pg r0 = r1.A01()     // Catch:{ 24A -> 0x00cc }
            r5.A01(r0, r2)     // Catch:{ 24A -> 0x00cc }
            byte[] r12 = X.C18290x4.A1Z(r4)
            X.2TJ r7 = new X.2TJ
            r7.<init>(r8, r9, r10, r11, r12, r13, r14, r15)
            r3.A02(r7)
            return r9
        L_0x00cc:
            r1 = move-exception
            java.lang.String r0 = "EditedMessageManager/getMessageData/Invalid message"
            com.whatsapp.util.Log.e(r0, r1)
            java.lang.StringBuilder r1 = X.AnonymousClass001.A0o()
            java.lang.String r0 = "OrphanedEditMessage/fromEditedFMessage/Invalid edited message:"
            java.lang.IllegalStateException r0 = X.AnonymousClass000.A0H(r10, r0, r1)
            throw r0
        L_0x00dd:
            java.lang.String r0 = "OrphanedEditMessage/fromEditedFMessage/Invalid edited message"
            java.lang.IllegalStateException r0 = X.AnonymousClass001.A0e(r0)
            throw r0
        L_0x00e4:
            r14 = 1
        L_0x00e5:
            boolean r3 = r0 instanceof X.C30441mS
            r15 = 0
            if (r3 == 0) goto L_0x00f7
            java.lang.StringBuilder r3 = X.AnonymousClass001.A0o()
            java.lang.String r0 = "EditMessageManager/handleEditedMessage/tried to process a revoke message for originalMessageKey: "
            X.C18260x0.A1R(r3, r0, r4)
        L_0x00f3:
            r1.A02(r2)
            return r15
        L_0x00f7:
            X.2z0 r8 = r2.A1J
            boolean r7 = r8.A02
            if (r7 != 0) goto L_0x011f
            X.1VX r9 = r1.A0U
            long r3 = r2.A0K
            long r5 = r0.A0K
            long r3 = r3 - r5
            r5 = 2983(0xba7, float:4.18E-42)
            long r9 = X.C56952sp.A04(r9, r5)
            int r5 = (r3 > r9 ? 1 : (r3 == r9 ? 0 : -1))
            if (r5 <= 0) goto L_0x011f
            java.lang.String r0 = "EditMessageManager/validateEditMessage incoming edited message outside of edit window"
        L_0x0110:
            com.whatsapp.util.Log.i((java.lang.String) r0)
            java.lang.StringBuilder r3 = X.AnonymousClass001.A0o()
            java.lang.String r0 = "EditMessageManager/handleEditedMessage/edited message is either out of order or out of the edit time window and will not be processed: "
            X.C18260x0.A1R(r3, r0, r8)
            if (r30 == 0) goto L_0x0302
            goto L_0x00f3
        L_0x011f:
            boolean r3 = X.C624134x.A0d(r0)
            if (r3 == 0) goto L_0x013e
            X.2Ou r3 = r0.A11()
            if (r3 == 0) goto L_0x013e
            X.2Ou r3 = r2.A11()
            long r5 = r3.A01
            X.2Ou r3 = r0.A11()
            long r3 = r3.A01
            int r9 = (r5 > r3 ? 1 : (r5 == r3 ? 0 : -1))
            if (r9 >= 0) goto L_0x013e
            java.lang.String r0 = "EditMessageManager/handleEditedMessage the current message is newer than the received edited message"
            goto L_0x0110
        L_0x013e:
            com.whatsapp.jid.UserJid r5 = r0.A0o()
            com.whatsapp.jid.UserJid r4 = r2.A0o()
            X.2sM r3 = r1.A0S
            boolean r3 = r3.A0B(r5, r4)
            if (r3 != 0) goto L_0x016b
            java.lang.String r3 = "EditMessageManager/validateEdit the sender of the edit is not same as sender of current message"
        L_0x0150:
            com.whatsapp.util.Log.e((java.lang.String) r3)
            if (r30 == 0) goto L_0x0158
            r1.A02(r2)
        L_0x0158:
            java.lang.StringBuilder r3 = X.AnonymousClass001.A0o()
            java.lang.String r1 = "Invalid edited message, current = "
            r3.append(r1)
            r3.append(r0)
            java.lang.String r0 = " edited = "
            java.lang.IllegalArgumentException r0 = X.AnonymousClass000.A0E(r2, r0, r3)
            throw r0
        L_0x016b:
            X.2z0 r10 = r0.A1J
            boolean r3 = r10.A02
            if (r3 == 0) goto L_0x017f
            if (r7 != 0) goto L_0x0176
            java.lang.String r3 = "EditMessageManager/validateEdit from me doesnt match"
            goto L_0x0150
        L_0x0176:
            boolean r3 = r0.A1W
            if (r3 == 0) goto L_0x017f
            if (r29 == 0) goto L_0x018c
            java.lang.String r3 = "EditMessageManager/validateEdit cant edit message that was not sent from this device"
            goto L_0x0150
        L_0x017f:
            if (r29 == 0) goto L_0x018c
            boolean r3 = r2 instanceof X.C30351mJ
            if (r3 == 0) goto L_0x018c
            java.lang.String r0 = "EditMessageManager/validateEdit editedOnThisDevice cannot result in a FMessageFuture"
            java.lang.IllegalArgumentException r0 = X.AnonymousClass001.A0c(r0)
            throw r0
        L_0x018c:
            boolean r3 = r0 instanceof X.C30481mW
            if (r3 == 0) goto L_0x0278
            r6 = r0
            X.1mW r6 = (X.C30481mW) r6
            r5 = r2
            X.1mW r5 = (X.C30481mW) r5
            java.lang.String r3 = "EditMessageManager/EditedFMessageFactory/buildMessage"
            com.whatsapp.util.Log.d((java.lang.String) r3)
            X.2z0 r4 = r5.A1J
            X.4uZ r3 = r4.A00
            boolean r3 = r3 instanceof X.C95804uY
            if (r3 == 0) goto L_0x01af
            X.2Ou r3 = r5.A11()
            if (r3 == 0) goto L_0x01af
            X.2Ou r3 = r5.A11()
            X.2z0 r4 = r3.A02
        L_0x01af:
            X.34x r3 = r6.Az3(r4)
            X.1mW r3 = (X.C30481mW) r3
            java.lang.String r4 = r5.A13()
            r3.A1Z(r4)
            java.lang.String r4 = r5.A07
            r3.A07 = r4
            java.lang.String r4 = r5.A03
            r3.A03 = r4
            java.lang.String r4 = r5.A06
            r3.A06 = r4
            java.lang.String r4 = r5.A04
            r3.A04 = r4
            int r4 = r5.A01
            r3.A01 = r4
            int r4 = r5.A00
            r3.A00 = r4
            byte[] r4 = r5.A08
            r3.A1y(r4)
            int r4 = r6.A08
            X.C624134x.A0K(r3, r4)
            X.2kf r4 = r5.A0q()
            r3.A1K(r4)
            X.2nF r4 = r5.A0r()
            r3.A1L(r4)
        L_0x01ec:
            long r4 = r0.A1L
            r3.A1L = r4
            long r4 = r0.A1M
            r3.A1M = r4
            java.util.List r4 = r2.A18
            r3.A1g(r4)
            X.2qb r4 = r2.A0l
            r3.A1W(r4)
            r4 = 131072(0x20000, float:1.83671E-40)
            r3.A1B(r4)
            X.2Ou r4 = r2.A11()
            r3.A1V(r4)
            r4 = 1
            r3.A1H(r4)
            X.2lp r4 = r2.A0g
            if (r4 == 0) goto L_0x0272
            r3.A1S(r4)
        L_0x0215:
            java.lang.Long r4 = r0.A0q
            r3.A1Y(r4)
            java.lang.Long r4 = r0.A0r
            r3.A0r = r4
            int r4 = r0.A05
            r3.A1E(r4)
            boolean r4 = r0.A1F
            r3.A1F = r4
            X.1me r4 = r0.A1T
            r3.A1T = r4
            boolean r4 = r0.A1n()
            if (r4 == 0) goto L_0x0238
            r4 = 1
            r3.A1D = r4
            byte[] r4 = r0.A1a
            r3.A1a = r4
        L_0x0238:
            X.4uZ r4 = r10.A00
            boolean r4 = r4 instanceof X.C95804uY
            if (r4 == 0) goto L_0x024c
            X.2SV r4 = r0.A12()
            r3.A1X(r4)
            X.4FP r4 = r0.A0L
            if (r4 == 0) goto L_0x024c
            r3.A1t(r4)
        L_0x024c:
            if (r29 == 0) goto L_0x0269
            r3.A1A()
        L_0x0251:
            X.2sr r4 = r1.A03
            X.2z0 r2 = r3.A1J
            X.4uZ r9 = r2.A00
            boolean r4 = r4.A0a(r9)
            if (r4 == 0) goto L_0x0262
            r4 = 13
            r3.A1G(r4)
        L_0x0262:
            X.3dV r4 = r1.A0M
            X.4Fq r18 = r4.A04()
            goto L_0x02d6
        L_0x0269:
            boolean r2 = r2.A1W
            if (r2 == 0) goto L_0x0251
            r2 = 4
            r3.A1G(r2)
            goto L_0x0251
        L_0x0272:
            X.2lp r4 = r0.A0g
            r3.A1S(r4)
            goto L_0x0215
        L_0x0278:
            boolean r3 = r0 instanceof X.C30471mV
            if (r3 == 0) goto L_0x02bc
            r6 = r0
            X.1mV r6 = (X.C30471mV) r6
            r7 = r2
            X.1mV r7 = (X.C30471mV) r7
            java.lang.String r3 = "EditMessageManager/EditedFMessageFactory/buildMediaMessage"
            com.whatsapp.util.Log.d((java.lang.String) r3)
            X.2z0 r4 = r7.A1J
            X.4uZ r3 = r4.A00
            boolean r3 = r3 instanceof X.C95804uY
            if (r3 == 0) goto L_0x029b
            X.2Ou r3 = r7.A11()
            if (r3 == 0) goto L_0x029b
            X.2Ou r3 = r7.A11()
            X.2z0 r4 = r3.A02
        L_0x029b:
            X.34x r3 = r6.Az3(r4)
            X.1mV r3 = (X.C30471mV) r3
            java.lang.String r4 = r7.A1w()
            r3.A02 = r4
            boolean r4 = r6 instanceof X.AnonymousClass1nF
            if (r4 == 0) goto L_0x02b5
            r5 = r3
            X.1nF r5 = (X.AnonymousClass1nF) r5
            X.1nF r7 = (X.AnonymousClass1nF) r7
            java.lang.String r4 = r7.A01
            r5.A23(r4)
        L_0x02b5:
            int r4 = r6.A08
            X.C624134x.A0K(r3, r4)
            goto L_0x01ec
        L_0x02bc:
            java.lang.String r3 = "EditMessageManager/EditedFMessageFactory/buildFuture"
            com.whatsapp.util.Log.d((java.lang.String) r3)
            long r4 = r0.A0K
            byte[] r18 = r2.A1u()
            r19 = 2
            X.1mJ r3 = new X.1mJ
            r16 = r3
            r17 = r8
            r20 = r4
            r16.<init>(r17, r18, r19, r20)
            goto L_0x024c
        L_0x02d6:
            X.3Yo r17 = r18.Axl()     // Catch:{ all -> 0x0507 }
            X.4uZ r8 = r10.A00     // Catch:{ all -> 0x04fd }
            boolean r4 = r8 instanceof X.C95804uY     // Catch:{ all -> 0x04fd }
            if (r4 != 0) goto L_0x03d6
            r6 = 1
            X.2ZZ r4 = r1.A0T     // Catch:{ all -> 0x04fd }
            if (r14 == 0) goto L_0x0315
            android.util.Pair r5 = r4.A00(r3)     // Catch:{ all -> 0x04fd }
            java.lang.Object r4 = r5.first     // Catch:{ all -> 0x04fd }
            int r12 = X.AnonymousClass0x7.A05(r4)     // Catch:{ all -> 0x04fd }
            java.lang.Object r4 = r5.second     // Catch:{ all -> 0x04fd }
            long r6 = X.C18320x8.A05(r4)     // Catch:{ all -> 0x04fd }
            r13 = -1
            r11 = 0
            int r4 = (r6 > r13 ? 1 : (r6 == r13 ? 0 : -1))
            if (r4 != 0) goto L_0x0303
            r17.close()     // Catch:{ all -> 0x0507 }
            r18.close()
        L_0x0302:
            return r15
        L_0x0303:
            r4 = 6
            if (r12 == r4) goto L_0x0307
            r11 = 1
        L_0x0307:
            java.lang.StringBuilder r5 = X.AnonymousClass001.A0o()     // Catch:{ all -> 0x04fd }
            java.lang.String r4 = "Original message was not stored when processing an edit, messageAddOnStoreStoreResult: "
            java.lang.String r4 = X.AnonymousClass000.A0Y(r4, r5, r12)     // Catch:{ all -> 0x04fd }
            X.C626936e.A0D(r11, r4)     // Catch:{ all -> 0x04fd }
            goto L_0x0389
        L_0x0315:
            X.3Ll r7 = r4.A02     // Catch:{ all -> 0x04fd }
            long r4 = r0.A1L     // Catch:{ all -> 0x04fd }
            r12 = 74
            X.3dV r11 = r7.A03     // Catch:{ Exception -> 0x0371 }
            X.4GK r16 = r11.get()     // Catch:{ Exception -> 0x0371 }
            r11 = r16
            X.3H0 r11 = (X.AnonymousClass3H0) r11     // Catch:{ all -> 0x0367 }
            X.2sg r14 = r11.A03     // Catch:{ all -> 0x0367 }
            java.lang.String r13 = "SELECT _id FROM message_add_on WHERE parent_message_row_id = ? AND message_add_on_type = ? AND (message_add_on.expiry_timestamp > ? OR IFNULL(message_add_on.expiry_timestamp,0) = 0)"
            java.lang.String[] r11 = X.AnonymousClass0x9.A1a()     // Catch:{ all -> 0x0367 }
            X.C18260x0.A1X(r11, r4)     // Catch:{ all -> 0x0367 }
            X.C18280x3.A1Q(r11, r12, r6)     // Catch:{ all -> 0x0367 }
            X.2sH r6 = r7.A00     // Catch:{ all -> 0x0367 }
            long r6 = r6.A0H()     // Catch:{ all -> 0x0367 }
            X.AnonymousClass0x2.A1T(r11, r6)     // Catch:{ all -> 0x0367 }
            java.lang.String r6 = "SELECT_MESSAGE_ADD_ON_ROW_ID_FOR_PARENT_ROW_ID_AND_TYPE"
            android.database.Cursor r11 = r14.A0D(r15, r13, r6, r11)     // Catch:{ all -> 0x0367 }
            boolean r6 = r11.moveToFirst()     // Catch:{ all -> 0x035d }
            if (r6 == 0) goto L_0x0356
            java.lang.String r6 = "_id"
            int r6 = X.AnonymousClass0x2.A04(r11, r6)     // Catch:{ all -> 0x035d }
            long r6 = (long) r6     // Catch:{ all -> 0x035d }
            r11.close()     // Catch:{ all -> 0x0367 }
            r16.close()     // Catch:{ Exception -> 0x0371 }
            goto L_0x0389
        L_0x0356:
            r11.close()     // Catch:{ all -> 0x0367 }
            r16.close()     // Catch:{ Exception -> 0x0371 }
            goto L_0x0387
        L_0x035d:
            r7 = move-exception
            r11.close()     // Catch:{ all -> 0x0362 }
            goto L_0x0366
        L_0x0362:
            r6 = move-exception
            r7.addSuppressed(r6)     // Catch:{ all -> 0x0367 }
        L_0x0366:
            throw r7     // Catch:{ all -> 0x0367 }
        L_0x0367:
            r7 = move-exception
            r16.close()     // Catch:{ all -> 0x036c }
            goto L_0x0370
        L_0x036c:
            r6 = move-exception
            r7.addSuppressed(r6)     // Catch:{ Exception -> 0x0371 }
        L_0x0370:
            throw r7     // Catch:{ Exception -> 0x0371 }
        L_0x0371:
            r11 = move-exception
            java.lang.StringBuilder r7 = X.AnonymousClass001.A0o()     // Catch:{ all -> 0x04fd }
            java.lang.String r6 = "Unable to get message_add_on_row_id for parent_message_row_id="
            r7.append(r6)     // Catch:{ all -> 0x04fd }
            r7.append(r4)     // Catch:{ all -> 0x04fd }
            java.lang.String r4 = " and message_add_on_type="
            java.lang.String r4 = X.AnonymousClass000.A0Y(r4, r7, r12)     // Catch:{ all -> 0x04fd }
            com.whatsapp.util.Log.e(r4, r11)     // Catch:{ all -> 0x04fd }
        L_0x0387:
            r6 = -1
        L_0x0389:
            if (r29 != 0) goto L_0x03ab
            X.2ss r4 = r1.A0A     // Catch:{ all -> 0x04fd }
            X.31A r22 = X.C56982ss.A00(r4, r9)     // Catch:{ all -> 0x04fd }
            if (r22 == 0) goto L_0x03ab
            X.2m9 r11 = r1.A06     // Catch:{ all -> 0x04fd }
            r24 = 2
            X.3am r5 = new X.3am     // Catch:{ all -> 0x04fd }
            r19 = r5
            r20 = r3
            r21 = r1
            r23 = r9
            r25 = r6
            r19.<init>(r20, r21, r22, r23, r24, r25)     // Catch:{ all -> 0x04fd }
            r4 = 62
            r11.A01(r5, r4)     // Catch:{ all -> 0x04fd }
        L_0x03ab:
            boolean r4 = r2.A02     // Catch:{ all -> 0x04fd }
            if (r4 != 0) goto L_0x03b3
            boolean r4 = r3.A1W     // Catch:{ all -> 0x04fd }
            if (r4 != 0) goto L_0x03d6
        L_0x03b3:
            X.3Lp r5 = r1.A0I     // Catch:{ all -> 0x04fd }
            java.util.Set r6 = r5.A06(r0)     // Catch:{ all -> 0x04fd }
            if (r6 == 0) goto L_0x03c6
            boolean r4 = r8 instanceof X.C28011fL     // Catch:{ all -> 0x04fd }
            if (r4 == 0) goto L_0x03c6
            java.util.Set r4 = r5.A03(r8, r0)     // Catch:{ all -> 0x04fd }
            r6.retainAll(r4)     // Catch:{ all -> 0x04fd }
        L_0x03c6:
            X.2o2 r5 = r1.A0O     // Catch:{ all -> 0x04fd }
            r5.A01(r0)     // Catch:{ all -> 0x04fd }
            if (r6 == 0) goto L_0x03d6
            boolean r4 = r6.isEmpty()     // Catch:{ all -> 0x04fd }
            if (r4 != 0) goto L_0x03d6
            r5.A02(r3, r6)     // Catch:{ all -> 0x04fd }
        L_0x03d6:
            X.2sC r6 = r1.A0E     // Catch:{ all -> 0x04fd }
            java.lang.String[] r9 = X.AnonymousClass0x9.A1Y()     // Catch:{ all -> 0x04fd }
            long r4 = r3.A1L     // Catch:{ all -> 0x04fd }
            X.C18260x0.A1X(r9, r4)     // Catch:{ all -> 0x04fd }
            android.content.ContentValues r5 = X.AnonymousClass0x9.A06()     // Catch:{ all -> 0x04fd }
            r6.A05(r5, r3)     // Catch:{ all -> 0x04fd }
            r4 = r18
            X.3H0 r4 = (X.AnonymousClass3H0) r4     // Catch:{ all -> 0x04fd }
            X.2sg r4 = r4.A03     // Catch:{ all -> 0x04fd }
            java.lang.String r6 = "message"
            java.lang.String r7 = "_id = ?"
            java.lang.String r8 = "UPDATE_MESSAGE_MAIN_SQL"
            r4.A05(r5, r6, r7, r8, r9)     // Catch:{ all -> 0x04fd }
            X.2mb r11 = r1.A0G     // Catch:{ all -> 0x04fd }
            java.lang.String[] r9 = X.AnonymousClass0x9.A1Y()     // Catch:{ all -> 0x04fd }
            long r4 = r3.A1L     // Catch:{ all -> 0x04fd }
            X.C18260x0.A1X(r9, r4)     // Catch:{ all -> 0x04fd }
            X.3dV r4 = r11.A03     // Catch:{ all -> 0x04fd }
            X.4Fq r8 = r4.A04()     // Catch:{ all -> 0x04fd }
            r4 = r8
            X.3H0 r4 = (X.AnonymousClass3H0) r4     // Catch:{ all -> 0x04f3 }
            X.2sg r7 = r4.A03     // Catch:{ all -> 0x04f3 }
            java.lang.String r6 = "message_mentions"
            java.lang.String r5 = "message_row_id = ?"
            java.lang.String r4 = "DELETE_TABLE_MESSAGE_MENTIONS"
            r7.A07(r6, r5, r4, r9)     // Catch:{ all -> 0x04f3 }
            r8.close()     // Catch:{ all -> 0x04fd }
            r11.A00(r3)     // Catch:{ all -> 0x04fd }
            X.2jy r4 = r1.A0J     // Catch:{ all -> 0x04fd }
            r4.A02(r3)     // Catch:{ all -> 0x04fd }
            boolean r4 = r3 instanceof X.C30481mW     // Catch:{ all -> 0x04fd }
            if (r4 == 0) goto L_0x045c
            r5 = r3
            X.1mW r5 = (X.C30481mW) r5     // Catch:{ all -> 0x04fd }
            X.2qC r4 = r1.A0Q     // Catch:{ all -> 0x04fd }
            r4.A02(r5)     // Catch:{ all -> 0x04fd }
            byte[] r5 = r5.A1z()     // Catch:{ all -> 0x04fd }
            if (r5 == 0) goto L_0x043a
            X.30a r4 = r1.A0R     // Catch:{ all -> 0x04fd }
            r4.A03(r3, r5)     // Catch:{ all -> 0x04fd }
        L_0x043a:
            X.2qb r7 = r3.A0l     // Catch:{ all -> 0x04fd }
            if (r7 == 0) goto L_0x0445
            X.2fo r6 = r1.A0N     // Catch:{ all -> 0x04fd }
            long r4 = r3.A1L     // Catch:{ all -> 0x04fd }
            r6.A01(r7, r4)     // Catch:{ all -> 0x04fd }
        L_0x0445:
            boolean r4 = r3 instanceof X.C30351mJ     // Catch:{ all -> 0x04fd }
            if (r4 == 0) goto L_0x0451
            X.2yi r5 = r1.A0D     // Catch:{ all -> 0x04fd }
            r4 = r3
            X.1mJ r4 = (X.C30351mJ) r4     // Catch:{ all -> 0x04fd }
            r5.A03(r4)     // Catch:{ all -> 0x04fd }
        L_0x0451:
            boolean r7 = r2.A02     // Catch:{ all -> 0x04fd }
            if (r7 != 0) goto L_0x047b
            X.8qC r4 = r1.A0c     // Catch:{ all -> 0x04fd }
            boolean r4 = X.C624134x.A0h(r3, r4)     // Catch:{ all -> 0x04fd }
            goto L_0x0466
        L_0x045c:
            boolean r4 = r3 instanceof X.AnonymousClass1nF     // Catch:{ all -> 0x04fd }
            if (r4 == 0) goto L_0x043a
            X.30m r4 = r1.A0F     // Catch:{ all -> 0x04fd }
            r4.A06(r3)     // Catch:{ all -> 0x04fd }
            goto L_0x043a
        L_0x0466:
            if (r4 == 0) goto L_0x047b
            X.2kf r8 = r3.A0q()     // Catch:{ all -> 0x04fd }
            if (r8 != 0) goto L_0x04b2
            X.8qC r4 = r1.A0d     // Catch:{ all -> 0x04fd }
            java.lang.Object r6 = r4.get()     // Catch:{ all -> 0x04fd }
            X.2jU r6 = (X.C51232jU) r6     // Catch:{ all -> 0x04fd }
            long r4 = r3.A1L     // Catch:{ all -> 0x04fd }
            r6.A00(r4)     // Catch:{ all -> 0x04fd }
        L_0x047b:
            X.2nF r4 = r3.A0r()     // Catch:{ all -> 0x04fd }
            if (r4 == 0) goto L_0x048c
            X.2e6 r8 = r1.A07     // Catch:{ all -> 0x04fd }
            long r4 = r3.A1L     // Catch:{ all -> 0x04fd }
            X.2nF r6 = r3.A0r()     // Catch:{ all -> 0x04fd }
            r8.A00(r6, r4)     // Catch:{ all -> 0x04fd }
        L_0x048c:
            X.2lp r4 = r3.A0g     // Catch:{ all -> 0x04fd }
            if (r4 == 0) goto L_0x0495
            X.2f6 r4 = r1.A0P     // Catch:{ all -> 0x04fd }
            r4.A00(r3)     // Catch:{ all -> 0x04fd }
        L_0x0495:
            X.2pF r6 = r1.A0H     // Catch:{ all -> 0x04fd }
            X.2lK r5 = r6.A01     // Catch:{ all -> 0x04fd }
            r5.A02(r10)     // Catch:{ all -> 0x04fd }
            java.util.Map r4 = r6.A02     // Catch:{ all -> 0x04fd }
            r4.remove(r10)     // Catch:{ all -> 0x04fd }
            r5.A01(r3, r2)     // Catch:{ all -> 0x04fd }
            X.2ss r4 = r6.A00     // Catch:{ all -> 0x04fd }
            r4.A0J(r3)     // Catch:{ all -> 0x04fd }
            java.util.concurrent.ConcurrentHashMap r4 = r6.A03     // Catch:{ all -> 0x04fd }
            r4.remove(r10)     // Catch:{ all -> 0x04fd }
            r4.remove(r2)     // Catch:{ all -> 0x04fd }
            goto L_0x04c0
        L_0x04b2:
            X.8qC r4 = r1.A0d     // Catch:{ all -> 0x04fd }
            java.lang.Object r6 = r4.get()     // Catch:{ all -> 0x04fd }
            X.2jU r6 = (X.C51232jU) r6     // Catch:{ all -> 0x04fd }
            long r4 = r3.A1L     // Catch:{ all -> 0x04fd }
            r6.A01(r8, r4)     // Catch:{ all -> 0x04fd }
            goto L_0x047b
        L_0x04c0:
            if (r29 == 0) goto L_0x04c3
            goto L_0x04d4
        L_0x04c3:
            if (r7 == 0) goto L_0x04de
            X.2m9 r5 = r1.A06     // Catch:{ all -> 0x04fd }
            r2 = 33
            X.3Zw r4 = new X.3Zw     // Catch:{ all -> 0x04fd }
            r4.<init>(r1, r2, r3)     // Catch:{ all -> 0x04fd }
            r2 = 71
            r5.A02(r4, r2)     // Catch:{ all -> 0x04fd }
            goto L_0x04de
        L_0x04d4:
            X.1sV r4 = r1.A0a     // Catch:{ all -> 0x04fd }
            r4.A0G(r0)     // Catch:{ all -> 0x04fd }
            java.util.Map r4 = r1.A0f     // Catch:{ all -> 0x04fd }
            r4.put(r2, r3)     // Catch:{ all -> 0x04fd }
        L_0x04de:
            r17.A00()     // Catch:{ all -> 0x04fd }
            X.3Wi r5 = r1.A02     // Catch:{ all -> 0x04fd }
            r4 = 5
            X.3aL r2 = new X.3aL     // Catch:{ all -> 0x04fd }
            r2.<init>(r1, r3, r0, r4)     // Catch:{ all -> 0x04fd }
            r5.A0S(r2)     // Catch:{ all -> 0x04fd }
            r17.close()     // Catch:{ all -> 0x0507 }
            r18.close()
            return r3
        L_0x04f3:
            r1 = move-exception
            r8.close()     // Catch:{ all -> 0x04f8 }
            goto L_0x04fc
        L_0x04f8:
            r0 = move-exception
            r1.addSuppressed(r0)     // Catch:{ all -> 0x04fd }
        L_0x04fc:
            throw r1     // Catch:{ all -> 0x04fd }
        L_0x04fd:
            r1 = move-exception
            r17.close()     // Catch:{ all -> 0x0502 }
            goto L_0x0506
        L_0x0502:
            r0 = move-exception
            r1.addSuppressed(r0)     // Catch:{ all -> 0x0507 }
        L_0x0506:
            throw r1     // Catch:{ all -> 0x0507 }
        L_0x0507:
            r1 = move-exception
            r18.close()     // Catch:{ all -> 0x050c }
            throw r1
        L_0x050c:
            r0 = move-exception
            r1.addSuppressed(r0)
            throw r1
        L_0x0511:
            java.lang.StringBuilder r1 = X.AnonymousClass001.A0o()
            java.lang.String r0 = "Invalid edited message "
            java.lang.IllegalArgumentException r0 = X.AnonymousClass000.A0E(r2, r0, r1)
            throw r0
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C55672qj.A00(X.34x, boolean, boolean):X.34x");
    }

    @Deprecated
    public C624134x A01(AnonymousClass2z0 r4) {
        Cursor A002 = this.A0J.A00(r4);
        if (A002 == null) {
            return null;
        }
        try {
            if (A002.moveToNext()) {
                C624134x A032 = this.A0Z.A03(A002);
                A002.close();
                return A032;
            }
            A002.close();
            return null;
        } catch (Throwable th) {
            th.addSuppressed(th);
            throw th;
        }
    }

    public void A02(C624134x r10) {
        C85284Fq A042 = this.A0M.A04();
        try {
            C56862sg r7 = ((AnonymousClass3H0) A042).A03;
            String[] A1a = AnonymousClass0x9.A1a();
            A1a[0] = Integer.toString(2);
            AnonymousClass2z0 r2 = r10.A1J;
            A1a[1] = r2.A01;
            A1a[2] = AnonymousClass2z0.A08(r2);
            r7.A07("message_orphaned_edit", "message_type = ? AND key_id = ? AND from_me = ?", "EditMessageManager/DELETE_ORPHANED_EDIT_SQL", A1a);
            A042.close();
        } catch (Throwable th) {
            th.addSuppressed(th);
            throw th;
        }
    }

    public C55672qj(C55682qk r4, C69263Wi r5, C56972sr r6, C44382Vv r7, C56612sH r8, C52852m9 r9, C47952e6 r10, C28871hu r11, C56922sm r12, C56982ss r13, C66543Lv r14, AnonymousClass30G r15, C60532yi r16, C56562sC r17, C613830m r18, C53132mb r19, C54762pF r20, C66483Lp r21, C51532jy r22, C29431io r23, AnonymousClass300 r24, C72303dV r25, C48992fo r26, C54012o2 r27, C48562f6 r28, C55342qC r29, C612830a r30, C56662sM r31, AnonymousClass2ZZ r32, AnonymousClass1VX r33, C66383Le r34, C53972ny r35, AnonymousClass33Y r36, C619933b r37, C55832qz r38, C33141sV r39, AnonymousClass4FS r40, C183538qC r41, C183538qC r42, C183538qC r43) {
        this.A05 = r8;
        AnonymousClass1VX r2 = r33;
        this.A0U = r2;
        this.A02 = r5;
        this.A09 = r12;
        this.A01 = r4;
        this.A03 = r6;
        this.A0b = r40;
        this.A0A = r13;
        this.A0X = r36;
        this.A08 = r11;
        this.A0O = r27;
        this.A0B = r14;
        this.A0C = r15;
        this.A0Z = r38;
        this.A0S = r31;
        this.A0E = r17;
        this.A0K = r23;
        this.A0Q = r29;
        this.A0a = r39;
        this.A06 = r9;
        this.A0e = r42;
        this.A0D = r16;
        this.A0L = r24;
        this.A0c = r41;
        C54762pF r1 = r20;
        this.A0H = r1;
        this.A0M = r25;
        this.A0G = r19;
        this.A0Y = r37;
        this.A0P = r28;
        this.A0J = r22;
        this.A0F = r18;
        this.A0W = r35;
        this.A0R = r30;
        this.A07 = r10;
        this.A0T = r32;
        this.A0V = r34;
        this.A0I = r21;
        this.A0d = r43;
        this.A04 = r7;
        this.A0N = r26;
        this.A0f = r1.A02;
        this.A00 = r2.A0O(C58422vE.A02, 987);
    }

    public void A03(C624134x r5) {
        StringBuilder A0o = AnonymousClass001.A0o();
        C18260x0.A0m(C624134x.A08(r5, "EditedMessageManager/handleIncomingEditedMessage key=", A0o), A0o);
        try {
            A00(r5, false, false);
        } catch (IllegalArgumentException e) {
            Log.e("EditMessageManager/handleIncomingEditedMessage", e);
            this.A01.A0A("EditMessageManager/handleIncomingEditedMessage/invalidMessage", false, (String) null);
        }
        this.A0X.A04(r5);
    }
}
